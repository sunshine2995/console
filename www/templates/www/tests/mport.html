<!DOCTYPE html>
<html lang="zh-hans">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <meta name="robots" content="NONE,NOARCHIVE" />
    <title>{{CUSTOM_CONFIG.TITLE}} | 应用一键部署</title>
    <link rel="stylesheet" href="/static/www/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/www/css/bootstrap-reset.css">
    <link rel="stylesheet" href="/static/www/assets/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="/static/www/css/sweetalert.css">
    <link rel="stylesheet" href="/static/www/css/gallery.css">
    <link rel="stylesheet" href="/static/www/css/style.css">
    <link rel="stylesheet" href="/static/www/css/style-responsive.css">
    <link href="/static/www/assets/jquery-easy-pie-chart/jquery.easy-pie-chart.css?v=2015122301" type="text/css" media="screen" rel="stylesheet" />
    <link href="/static/www/css/owl.carousel.css?v=2015122301" type="text/css" media="screen" rel="stylesheet" />
    <link href="/static/www/css/goodrainstyle.css?v=2015122301" type="text/css" media="screen" rel="stylesheet" />
    <link href="/static/www/css/style.css?v=2015122301" type="text/css" media="screen" rel="stylesheet" />
    <link href="/static/www/css/style-responsive.css?v=2015122301" type="text/css" media="screen" rel="stylesheet" />
    <link href="/static/www/css/gr/basic.css?v=2015122301" type="text/css" media="screen" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="/static/www/css/bootstrap-switch.min.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/static/www/css/bootstrap-editable.css" media="screen">
    <!--[if lt IE 9]>
      <script src="/static/www/js/html5shiv.js"></script>
      <script src="/static/www/js/respond.min.js"></script>
    <![endif]-->
    <script src="/static/www/js/jquery.min.js"></script>
    <script src="/static/www/js/bootstrap.min.js"></script>
    <script src="/static/www/js/sweetalert.min.js"></script>
    <script src="/static/www/js/jquery.nicescroll.js"></script>
    <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?1c1f39fceda87fde7543db370010af4d";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
    </script>
</head>

<body class="">
    <div id="mytags" tenant="goodrain" service="op_mysql" ws-topic=""></div>
    <section id="container">
        <header class="header white-bg">
            <div class="sidebar-toggle-box">
                <div class="fa fa-bars tooltips" data-placement="right" data-original-title="切换导航"></div>
            </div>
            <!--logo start-->
            <a href="/" class="logo"><span>{{CUSTOM_CONFIG.TITLE}}</span></a>
            <!--logo end-->
            <div class="nav notify-row" id="top_menu">
                <div class="btn-group">
                    <button class="btn btn-white" type="button">阿里云[上海]</button>
                    <button data-toggle="dropdown" class="btn btn-white dropdown-toggle" type="button"><span class="caret"></span></button>
                    <ul id="region_select" role="menu" class="dropdown-menu">
                        <li><a href="/apps/goodrain/?region=ucloud-bj-1">ucloud[北京]</a></li>
                        <li><a href="/apps/goodrain/?region=aws-jp-1">亚马逊[日本]</a></li>
                    </ul>
                </div>
            </div>
            <div class="top-nav ">
                <!--search & user info start-->
                <ul class="nav pull-right top-menu">
                    <!--<li>
            <button type="button" class="btn btn-round btn-primary" onclick="window.open('https://goodrain.kf5.com/request/new/')">提交工单</button>
        </li>
         -->
                    <li>
                        <a href="https://t.goodrain.com/" target="_blank">
                            <i class="fa fa-comment"></i>
                            <span>社区</span>
                        </a>
                    </li>
                    <li>
                        <a href="http://doc.goodrain.com/usage/180993" target="_blank">
                            <i class="fa fa-file-text-o"></i>
                            <span>文档</span>
                        </a>
                    </li>
                    <!-- user login dropdown start-->
                    <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <!--img alt="" src="/static/www/img/avatar1_small.jpg"-->
                            <i class="fa  fa-user"></i>
                            <span class="username">messi</span>
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <div class="log-arrow-up"></div>
                            <li><a href="/apps/goodrain/recharge/"><i class="fa  fa-usd"></i> 充值</a></li>
                            <!--
                            <li><a href="/apps/goodrain/consume/"><i class="fa fa-list-alt"></i> 消费记录</a></li>
                            <li><a href="/payed/goodrain/upgrade"><i class="fa fa-flag"></i> 升级为付费用户</a></li>
                            -->
                            <li class="divider"></li>
                            <li><a href="/logout"><i class="fa fa-sign-out"></i> 退出</a></li>
                        </ul>
                    </li>
                    <!-- user login dropdown end -->
                </ul>
                <!--search & user info end-->
            </div>
        </header>
        <aside>
            <div id="sidebar" class="nav-collapse " tabindex="5000" style="overflow: hidden; outline: none;">
                <!-- sidebar menu start-->
                <ul class="sidebar-menu" id="nav-accordion">
                    <li>
                        <a class="" href="/apps/goodrain/">
                            <i class="fa fa-dashboard"></i>
                            <span>总览</span>
                        </a>
                    </li>
                    <li>
                        <a href="/apps/goodrain/service-entrance" class="">
                            <i class="fa fa-plus"></i>
                            <span>新建应用</span>
                        </a>
                    </li>
                    <li class="sub-menu">
                        <a class="active" href="javascript:;">
                            <i class="fa fa-laptop"></i>
                            <span>我的应用</span></a>
                        <ul class="sub">
                            <li><a href="/apps/goodrain/dev-debug/detail/">dev-debug</a></li>
                            <li><a href="/apps/goodrain/edm-send/detail/">edm-send</a></li>
                            <li><a href="/apps/goodrain/goodrain-app/detail/">goodrain-app</a></li>
                            <li><a href="/apps/goodrain/goodrain_labor/detail/">goodrain_labor</a></li>
                            <li><a href="/apps/goodrain/goodrain_www/detail/">goodrain_www</a></li>
                            <li><a href="/apps/goodrain/lottory/detail/">lottory</a></li>
                            <li><a href="/apps/goodrain/mc-stat/detail/">mc-stat</a></li>
                            <li><a href="/apps/goodrain/op_console/detail/">op_console</a></li>
                            <li class="active"><a href="/apps/goodrain/op_mysql/detail/">op_mysql</a></li>
                            <li><a href="/apps/goodrain/op_statics/detail/">op_statics</a></li>
                            <li><a href="/apps/goodrain/phpmyadmin/detail/">phpmyadmin</a></li>
                            <li><a href="/apps/goodrain/user_cache/detail/">user_cache</a></li>
                            <li><a href="/apps/goodrain/user_console/detail/">user_console</a></li>
                            <li><a href="/apps/goodrain/user_mysql/detail/">user_mysql</a></li>
                            <li><a href="/apps/goodrain/wjj-debug/detail/">wjj-debug</a></li>
                            <li><a href="/apps/goodrain/zyq-debug/detail/">zyq-debug</a></li>
                        </ul>
                    </li>
                    <li>
                        <a class="" href="/apps/goodrain/service/">
                            <i class="fa fa-th"></i>
                            <span>应用市场</span>
                        </a>
                    </li>
                    <li>
                        <a class="" href="/apps/goodrain/team/">
                            <i class="fa fa-group"></i>
                            <span>团队</span>
                        </a>
                    </li>
                    <li class="sub-menu">
                        <a href="javascript:;" class="">
                            <i class="fa fa-jpy"></i>
                            <span>财务中心</span></a>
                        <ul class="sub">
                            <li class=""><a href="/apps/goodrain/paymodel/">打包购买</a></li>
                            <li class=""><a href="/apps/goodrain/recharge/">账户充值</a></li>
                            <li class=""><a href="/apps/goodrain/consume/">消费明细</a></li>
                        </ul>
                    </li>
                </ul>
                <!-- sidebar menu end-->
            </div>
        </aside>
        <section id="main-content" class="">
            <section class="wrapper">
                <section class="panel">
                    <header class="panel-heading tab-bg-dark-navy-blue ">
                        <ul class="nav nav-pills" id="nav-tabs">
                            <li><a href="/apps/goodrain/op_mysql/detail/?fr=deployed">概览</a></li>
                            <li class="dropdown ">
                                <a href="/apps/goodrain/op_mysql/detail/?fr=statistic" class="dropdown-toggle" data-toggle="dropdown">监控<b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    <li><a href="/apps/goodrain/op_mysql/detail/?fr=statistic&type=realtime">实时分析</a></li>
                                    <li><a href="/apps/goodrain/op_mysql/detail/?fr=statistic&type=history">历史走势</a></li>
                                </ul>
                            </li>
                            <li><a href="/apps/goodrain/op_mysql/detail/?fr=log">日志</a></li>
                            <li class="active"><a href="/apps/goodrain/op_mysql/detail/?fr=settings">高级</a></li>
                        </ul>
                    </header>
                    <div class="panel-body">
                        <div class="tab-content">
                            <!-- settings start -->
                            <div role="tabpanel" class="tab-pane active" id="settings">
                                <section class="panel">
                                    <header class="panel-heading">基础信息</header>
                                    <div class="panel-body">
                                        <div class="row">
                                            <label class="col-xs-2 control-label">应用名称</label>
                                            <label class="col-xs-10 control-label">op_mysql</label>
                                        </div>
                                        <div class="row">
                                            <label class="col-xs-2 control-label">服务协议</label>
                                            <label class="col-xs-10 control-label">
                                                <select name="protocol" id="protocol">
                                                    <option selected="selected" value="stream">非Http协议</option>
                                                </select>
                                            </label>
                                        </div>
                                    </div>
                                </section>
                                <section class="panel">
                                    <header class="panel-heading">端口开放</header>
                                    <div class="panel-body">
                                        <table class="table table-striped table-advance table-hover">
                                            <thead>
                                                <tr>
                                                    <th> </th>
                                                    <th> 端口号</th>
                                                    <th> 协议类型</th>
                                                    <th> 别名</th>
                                                    <th> 对外服务</th>
                                                    <th> 外部访问</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr port="5000">
                                                    <td class="port-arrow"><a fold="yes"><i class="fa fa-chevron-circle-right fa-lg"></i></a></td>
                                                    <td> 5000</td>
                                                    <td><a href="#" class="edit-protocol" data-title="更改协议类型" data-value="http"></a></td>
                                                    <td>
                                                        <a href="#" class="edit-alias" data-title="更改端口别名" data-value=""></a>
                                                    </td>
                                                    <td>
                                                        <input class="switch-box" name="inner" type="checkbox" checked="" data-size="mini" data-on-color="info" data-on-text="开启" data-off-text="关闭">
                                                    </td>
                                                    <td>
                                                        <input class="switch-box" name="outer" type="checkbox" checked="" data-size="mini" data-on-color="success" data-on-text="开启" data-off-text="关闭">
                                                    </td>
                                                </tr>
                                                <tr port="3306">
                                                    <td class="port-arrow"><a fold="yes"><i class="fa fa-chevron-circle-right fa-lg"></i></a></td>
                                                    <td> 3306</td>
                                                    <td><a href="#" class="edit-protocol" data-title="更改协议类型" data-value="stream"></a></td>
                                                    <td>
                                                        <a href="#" class="edit-alias" data-title="更改端口别名" data-value="MYSQL"></a>
                                                    </td>
                                                    <td>
                                                        <input class="switch-box" name="inner" type="checkbox" checked="" data-size="mini" data-on-color="info" data-on-text="开启" data-off-text="关闭">
                                                    </td>
                                                    <td>
                                                        <input class="switch-box" name="outer" type="checkbox" checked="" data-size="mini" data-on-color="success" data-on-text="开启" data-off-text="关闭">
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </section>
                                <section class="panel">
                                    <header class="panel-heading">自定义环境变量</header>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <table class="table table-hover" id="envVartable">
                                                    <thead>
                                                        <tr>
                                                            <th>说明</th>
                                                            <th>变量名</th>
                                                            <th>变量值</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <input type="hidden" name="d817c02e952344199e04e5c7ec6fa620_serviceNoChange" value="6521" />
                                                            <td>连接地址</td>
                                                            <td>
                                                                MYSQL_HOST
                                                            </td>
                                                            <td>127.0.0.1</td>
                                                            <td>
                                                                <button type="button" class="attr-delete btn btn-danger btn-xs"><i class="fa fa-trash-o"></i></button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <input type="hidden" name="d817c02e952344199e04e5c7ec6fa620_serviceNoChange" value="6522" />
                                                            <td>端口</td>
                                                            <td>
                                                                MYSQL_PORT
                                                            </td>
                                                            <td>3309</td>
                                                            <td>
                                                                <button type="button" class="attr-delete btn btn-danger btn-xs"><i class="fa fa-trash-o"></i></button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <input name="d817c02e952344199e04e5c7ec6fa620_attr_id" type="hidden" value="6523">
                                                            <td>
                                                                <input name="d817c02e952344199e04e5c7ec6fa620_name" value="用户名">
                                                            </td>
                                                            <td>
                                                                MYSQL_USER
                                                            </td>
                                                            <td>
                                                                <input name="d817c02e952344199e04e5c7ec6fa620_attr_value" value="admin">
                                                            </td>
                                                            <td>
                                                                <button type="button" class="attr-delete btn btn-danger btn-xs"><i class="fa fa-trash-o"></i></button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <input name="d817c02e952344199e04e5c7ec6fa620_attr_id" type="hidden" value="6524">
                                                            <td>
                                                                <input name="d817c02e952344199e04e5c7ec6fa620_name" value="密码">
                                                            </td>
                                                            <td>
                                                                <input name="d817c02e952344199e04e5c7ec6fa620_attr_name" value="MYSQL_PASSWORD">
                                                            </td>
                                                            <td>
                                                                <input name="d817c02e952344199e04e5c7ec6fa620_attr_value" value="d817c02e">
                                                            </td>
                                                            <td>
                                                                <button type="button" class="attr-delete btn btn-danger btn-xs"><i class="fa fa-trash-o"></i></button>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <button type="button" class="btn btn-success btn-xs" id="add_service_attr">新增环境变量</button>
                                            </div>
                                </section>
                                
                                <section class="panel">
                                    <header class="panel-heading">扩容方式</header>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-xs-2 control-label">内存调整</div>
                                            <div class="col-xs-2 control-label">
                                                <select name="serviceMemorys" id="serviceMemorys" class="form-control m-bot15">
                                                    <option value="1">128M</option>
                                                    <option value="2">256M</option>
                                                    <option value="3" selected="selected">512M</option>
                                                    <option value="4">1G</option>
                                                    <option value="5">2G</option>
                                                    <option value="6">4G</option>
                                                    <option value="7">8G</option>
                                                    <option value="8">16G</option>
                                                    <option value="9">32G</option>
                                                    <option value="10">64G</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-2 control-label">
                                                <button type="button" onclick="service_upgrade('goodrain','op_mysql');" class="btn btn-success">设置</button>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                                <!--start permission-->
                                <section class="panel" id="permission">
                                    <header class="panel-heading">权限管理 </header>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-xs-4">
                                                <input type="text" class="email-invite form-control" id="invite_email" name="invite_email" placeholder="邮件地址">
                                            </div>
                                            <div class="col-xs-2">
                                                <select class="form-control" id="ivite_perm" name="ivite_perm">
                                                    <option value="viewer">观察者</option>
                                                    <option value="developer">开发者</option>
                                                    <option value="admin">管理员</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-2">
                                                <button type="button" class="btn btn-success invite-service" id="invite_user_btn">邀请</button>
                                            </div>
                                        </div>
                                        <br>
                                        <div id="action_report" class="width-3"></div>
                                        <table class="table" perm-type="service">
                                            <tbody>
                                                <tr>
                                                    <th>成员名称</th>
                                                    <th>邮件地址</th>
                                                    <th class="text-center">管理员</th>
                                                    <th class="text-center">开发者</th>
                                                    <th class="text-center">观察者</th>
                                                    <th class="text-center">移除权限</th>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </section>
                                <!--end permission-->
                                <section class="panel" id="delete">
                                    <header class="panel-heading">删除 </header>
                                    <div class="panel-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">
                                                <label class="col-sm-2 col-lg-2  control-label">op_mysql</label>
                                                <div class="col-sm-2 col-lg-2 text-center">
                                                    <button type="button" class="btn btn-danger" id="cur_delete_service" onclick="delete_service('goodrain','op_mysql');">删除</button>
                                                </div>
                                                <div class="col-sm-8 col-lg-8 control-label text-left text-danger">注意：该操作会将所有相关数据永久删除，请慎重操作！</div>
                                            </div>
                                        </form>
                                    </div>
                                </section>
                                </div>
                                <!-- settings end-->
                                <!--script>
                            String.prototype.trim = function() {
                                return this.replace(/(^\s*)|(\s*$)/g, "");
                            }
                            var setIntertimmer

                            $(document).ready(function() {
                                var mapping = $("#create_port_mapping").val()
                                if (mapping != undefined) {
                                    getMappingPort()
                                    setIntertimmer = setInterval("getMappingPort()", 3000);
                                }
                            });

                            function getMappingPort() {
                                $.ajax({
                                    type: "GET",
                                    url: "/ajax/goodrain/op_mysql/mapping-port",
                                    cache: false,
                                    beforeSend: function(xhr, settings) {
                                        var csrftoken = $.cookie('csrftoken');
                                        xhr.setRequestHeader("X-CSRFToken", csrftoken);
                                    },
                                    success: function(msg) {
                                        var dataObj = msg;
                                        port = dataObj["port"]
                                        ip = dataObj["ip"]
                                        if (port > 0) {
                                            if (port >= 2000) {
                                                $('#mapping-port').html(port)
                                            }
                                            clearInterval(setIntertimmer);
                                        }
                                    },
                                    error: function() {
                                        //swal("系统异常");
                                    }
                                })
                            }
                            </script-->
                                </div>
                            </div>
                </section>
            </section>
        </section>
        <footer>
            <footer>
                <!--footer class="site-footer">
        <div class="text-center">
            Copyright © 2015 Goodrain 北京好雨科技有限公司 ｜京ICP备 15028663
            <a href="#" class="go-top">
            <i class="fa fa-angle-up"></i>
            </a>
        </div>
    </footer-->
            </footer>
        </footer>
    </section>
    <script type="text/javascript" src="/static/www/js/jquery.cookie.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/service.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/gr/basic.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/perms.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/common-scripts.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/jquery.dcjqaccordion.2.7.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/jquery.scrollTo.min.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/swfobject.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/web_socket.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/websoket-goodrain.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/bootstrap-switch.min.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/bootstrap-editable.min.js?v=2015122301"></script>
    <script type="text/javascript" src="/static/www/js/gr/multi_port.js?v=2015122301"></script>
    <!--script src="//meiqia.com/js/mechat.js?unitid=557f9c184eae356304000003" charset="UTF-8" async="async"></script-->
    <script type='text/javascript'>
    (function(m, ei, q, i, a, j, s) {
        m[a] = m[a] || function() {
            (m[a].a = m[a].a || []).push(arguments)
        };
        j = ei.createElement(q),
            s = ei.getElementsByTagName(q)[0];
        j.async = true;
        j.charset = 'UTF-8';
        j.src = i;
        s.parentNode.insertBefore(j, s)
    })(window, document, 'script', '//eco-api.meiqia.com/dist/meiqia.js', '_MEIQIA');
    _MEIQIA('entId', 5732);
    </script>

</body>

</html>
